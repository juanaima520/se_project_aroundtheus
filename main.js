!function(){"use strict";var e=class{constructor(e,t,s,r,i){let{_id:n,name:o,link:a,isLiked:l}=e;this.id=n,this._name=o,this._link=a,this._isLiked=l,this._cardSelector=t,this._handleImageClick=s,this._handleCardDelete=r,this._handleLikeCard=i}_getTemplate(){return document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0)}_setEventListeners(){this._likeButton.addEventListener("click",(()=>{this._handleLikeCard(this)})),this._cardElement.querySelector(".card__delete-button").addEventListener("click",(()=>{this._handleCardDelete(this)})),this._cardImage.addEventListener("click",(()=>this._handleImageClick(this._name,this._link)))}getIsLiked(){return this._isLiked}_handleLikeIcon(){this._isLiked?this._likeButton.classList.add("card__like-button_active"):this._likeButton.classList.remove("card__like-button_active")}handleCardDelete(){this._cardElement.remove(),this._cardElement=null}updateIsLiked(e){this._isLiked=e,this._handleLikeIcon()}getView(){return this._cardElement=this._getTemplate(),this._cardImage=this._cardElement.querySelector(".card__image"),this._likeButton=this._cardElement.querySelector(".card__like-button"),this._handleLikeIcon(),this._cardImage.src=this._link,this._cardImage.alt=this._name,this._cardTitle=this._cardElement.querySelector(".card__title"),this._cardTitle.textContent=this._name,this._setEventListeners(),this._cardElement}},t=class{constructor(e,t){this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._form=t}_showInputError(e){const t=this._form.querySelector(`#${e.id}-error`);e.classList.add(this._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._errorClass)}_hideInputError(e){const t=this._form.querySelector(`#${e.id}-error`);e.classList.remove(this._inputErrorClass),t.textContent="",t.classList.remove(this._errorClass)}_toggleButtonState(){this._hasInvalidInput(this._inputEls)?this.disabledSubmitButton():(this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.disabled=!1)}disabledSubmitButton(){this._submitButton.classList.add(this._inactiveButtonClass),this._submitButton.disabled=!0}_hasInvalidInput(){return!this._inputEls.every((e=>e.validity.valid))}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}_setEventListener(){this._inputEls=[...this._form.querySelectorAll(this._inputSelector)],this._submitButton=this._form.querySelector(this._submitButtonSelector),this._inputEls.forEach((e=>{e.addEventListener("input",(t=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}enableValidation(){this._form.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListener()}};class s{constructor(e){let{popupSelector:t}=e;this._popupElement=document.querySelector(t)}open(){this._popupElement.classList.add("modal_opened"),document.addEventListener("keydown",this._handleEscClose)}close(){this._popupElement.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose=e=>{"Escape"===e.key&&this.close()};_handleModalClose=e=>{(e.target.classList.contains("modal")||e.target.classList.contains("modal__close"))&&this.close()};setEventListeners(){this._popupElement.addEventListener("click",this._handleModalClose)}}var r=class extends s{constructor(e,t){super({popupSelector:e}),this._popupForm=this._popupElement.querySelector(".modal__form"),this._formButton=this._popupElement.querySelector(".modal__button"),this._formButtonText=this._formButton.textContent,this._handleFormSubmit=t,this._inputList=[...this._popupForm.querySelectorAll(".modal__input")]}close(){super.close()}resetForm(){this._popupForm.reset()}_getInputValues(){const e={};return this._inputList.forEach((t=>{e[t.name]=t.value})),e}setInputValues(e){this._inputList.forEach((t=>{t.value=e[t.name]}))}renderLoading(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Saving..";this._formButton.textContent=e?t:this._formButtonText}setEventListeners(){super.setEventListeners(),this._popupForm.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues())}))}};const i=document.querySelector("#profile-edit-button"),n=document.querySelector("#profile-edit-modal"),o=document.querySelector("#profile-add-button"),a=document.querySelector("#add-card-modal"),l=(document.querySelector("#preview-image-modal"),document.querySelector(".modal__preview-image"),document.querySelector(".modal__image-name"),document.querySelector(".profile__title"),document.querySelector(".profile__description"),document.querySelector("#profile-title-input")),d=document.querySelector("#profile-description-input"),c=(document.querySelector("#card-title-input"),document.querySelector("#card-url-input"),n.querySelector(".modal__form"),a.querySelector(".modal__form"),document.querySelector(".cards__list"),document.querySelector("#card-template").content.firstElementChild,document.querySelector("#avatar-edit-button")),h=(document.querySelector("#modal__form-avatar"),document.querySelector(".profile__image"),new class{constructor(e){let{baseUrl:t,headers:s}=e;this._baseUrl=t,this._headers=s}_checkResponse(e){return e.ok?e.json():Promise.reject(e.status)}getUserInfo(){return fetch(`${this._baseUrl}/users/me`,{method:"GET",headers:this._headers}).then(this._checkResponse)}getInitialCards(){return fetch(`${this._baseUrl}/cards`,{method:"GET",headers:this._headers}).then(this._checkResponse)}addNewCard(e){let{name:t,link:s}=e;return fetch(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:t,link:s})}).then(this._checkResponse)}editUserInfo(e,t){return fetch(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e,about:t})}).then(this._checkResponse)}deleteCard(e){return fetch(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers}).then(this._checkResponse)}addLike(e){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"PUT",headers:this._headers}).then(this._checkResponse)}removeLike(e){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"delete",headers:this._headers}).then(this._checkResponse)}updateAvatar(e){return console.log("avatarURL",e),fetch(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then(this._checkResponse)}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"65820eda-9ddf-4d15-8d65-d12582853dbd","Content-Type":"application/json"}})),u=new class{constructor(e){let{nameSelector:t,descriptionSelector:s,avatarSelector:r}=e;this._nameElement=document.querySelector(t),this._descriptionElement=document.querySelector(s),this._avatarElement=document.querySelector(r)}getUserInfo(){return{name:this._nameElement.textContent,description:this._descriptionElement.textContent}}setUserInfo(e){let{name:t,description:s}=e;this._nameElement.textContent=t,this._descriptionElement.textContent=s}changeAvatar(e){this._avatarElement.src=e}}({nameSelector:".profile__title",descriptionSelector:".profile__description",avatarSelector:".profile__image"}),_=new r("#add-card-modal",(e=>{let{name:t,link:s}=e;_.renderLoading(!0),h.addNewCard({name:t,link:s}).then((e=>{y(e),_.close(),_.resetForm(),g["add-card-form"].disabledSubmitButton()})).catch((e=>{console.error(e),alert(`Error ${e}. Could not add card.`)})).finally((()=>{_.renderLoading(!1)}))}));_.setEventListeners();const m=new r("#profile-edit-modal",(e=>{let{title:t,description:s}=e;m.renderLoading(!0),h.editUserInfo(t,s).then((e=>{u.setUserInfo({name:t,description:s}),m.close()})).catch((e=>{console.error(e),alert(`Error ${e}. Could not edit user info.`)})).finally((()=>{m.renderLoading(!1)}))}));m.setEventListeners();const p=new class extends s{constructor(e){super({popupSelector:e}),this._popupImage=this._popupElement.querySelector(".modal__preview-image"),this._popupImageTitle=this._popupElement.querySelector(".modal__image-name")}open(e){this._popupImage.src=e.link,this._popupImage.alt=e.name,this._popupImageTitle.textContent=e.name,super.open()}}("#preview-image-modal");p.setEventListeners();const v=new r("#profile-avatar-modal",(e=>{v.renderLoading(!0),h.updateAvatar(e.link).then((e=>{u.changeAvatar(e.avatar),v.close()})).catch((e=>console.log("Error updating avatar:",e))).finally((()=>{v.renderLoading(!1)}))}));v.setEventListeners(),c.addEventListener("click",(()=>{v.open()}));const E=new class extends s{constructor(e){super({popupSelector:e}),this._popupForm=this._popupElement.querySelector(".modal__form"),this._submitButton=this._popupElement.querySelector(".modal__button-confirm")}setConfirmSubmit(e){this._handleFormSubmit=e}setSubmitButtonText(e){this._submitButton.textContent=e}setEventListeners(){super.setEventListeners(),this._popupForm.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit()}))}}("#delete-card-modal");function S(e){E.open(),E.setConfirmSubmit((()=>{E.setSubmitButtonText("Deleting...yay"),h.deleteCard(e.id).then((()=>{E.close(),e.handleCardDelete()})).catch((e=>console.log(e))).finally((()=>{E.setSubmitButtonText("Yes")}))}))}function f(e){e.getIsLiked()?h.removeLike(e.id).then((t=>{e.updateIsLiked(t.isLiked)})).catch((e=>console.log(e))):h.addLike(e.id).then((t=>{e.updateIsLiked(t.isLiked)})).catch((e=>console.log(e)))}function L(e,t){p.open({name:e,link:t})}function y(t){const s=function(t){return new e(t,"#card-template",L,S,f).getView()}(t);b.addItem(s)}E.setEventListeners(),i.addEventListener("click",(()=>{const e=u.getUserInfo();l.value=e.name,d.value=e.description,m.open()})),o.addEventListener("click",(()=>{_.open()}));const g={};var k;k={inputSelector:".modal__input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible",formSelector:".modal__form"},Array.from(document.querySelectorAll(k.formSelector)).forEach((e=>{const s=new t(k,e),r=e.getAttribute("name");g[r]=s,s.enableValidation()}));const b=new class{constructor(e,t){let{items:s,renderer:r}=e;this._items=s,this._renderer=r,this._container=document.querySelector(t)}setItems(e){this._items=e}renderItems(){this._items.forEach((e=>{this._renderer(e)}))}addItem(e){"append"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"prepend")?this._container.append(e):this._container.prepend(e)}}({items:[],renderer:y},".cards__list");Promise.all([h.getInitialCards(),h.getUserInfo()]).then((e=>{let[t,s]=e;b.setItems(t.reverse()),b.renderItems(),u.setUserInfo({name:s.name,description:s.about}),u.changeAvatar(s.avatar)})).catch((e=>{console.error(e)}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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K0wsV0FBYXJMLFNBQVNDLGNBQWMrSyxFQUMzQyxDQUVBTSxRQUFBQSxDQUFTTCxHQUNQM0wsS0FBSzZMLE9BQVNGLENBQ2hCLENBRUFNLFdBQUFBLEdBQ0VqTSxLQUFLNkwsT0FBT2pJLFNBQVNzSSxJQUNuQmxNLEtBQUs4TCxVQUFVSSxFQUFLLEdBRXhCLENBQ0FqQixPQUFBQSxDQUFRa0IsR0FDWSxZQURNdEcsVUFBQUMsT0FBQSxRQUFBQyxJQUFBRixVQUFBLEdBQUFBLFVBQUEsR0FBRyxXQUV6QjdGLEtBQUsrTCxXQUFXSyxPQUFPRCxHQUV2Qm5NLEtBQUsrTCxXQUFXTSxRQUFRRixFQUU1QixHTCtOQSxDQUNFUixNQUFPLEdBQ1BDLFNBQVVyQyxHQUVaLGdCQVFGdEMsUUFBUXFGLElBQUksQ0FBQzlGLEVBQUlnQixrQkFBbUJoQixFQUFJWSxnQkFDckNHLE1BQUtnRixJQUFpQyxJQUEvQkMsRUFBaUJ4QyxHQUFTdUMsRUFDaEN2QixFQUFRZ0IsU0FBU1EsRUFBZ0JDLFdBQ2pDekIsRUFBUWlCLGNBQ1J2RCxFQUFTUSxZQUFZLENBQUVySixLQUFNbUssRUFBU25LLEtBQU1vSixZQUFhZSxFQUFTakMsUUFDbEVXLEVBQVNTLGFBQWFhLEVBQVN4QixPQUFPLElBRXZDaUIsT0FBT0MsSUFDTnBCLFFBQVFxQixNQUFNRCxFQUFJLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBEZWxldGUuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBDYXJkIHtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHsgX2lkLCBuYW1lLCBsaW5rLCBpc0xpa2VkIH0sXHJcbiAgICBjYXJkU2VsZWN0b3IsXHJcbiAgICBoYW5kbGVJbWFnZUNsaWNrLFxyXG4gICAgaGFuZGxlQ2FyZERlbGV0ZSxcclxuICAgIGhhbmRsZUxpa2VDYXJkXHJcbiAgKSB7XHJcbiAgICB0aGlzLmlkID0gX2lkO1xyXG4gICAgdGhpcy5fbmFtZSA9IG5hbWU7XHJcbiAgICB0aGlzLl9saW5rID0gbGluaztcclxuICAgIHRoaXMuX2lzTGlrZWQgPSBpc0xpa2VkO1xyXG4gICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xyXG4gICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayA9IGhhbmRsZUltYWdlQ2xpY2s7XHJcbiAgICB0aGlzLl9oYW5kbGVDYXJkRGVsZXRlID0gaGFuZGxlQ2FyZERlbGV0ZTtcclxuICAgIHRoaXMuX2hhbmRsZUxpa2VDYXJkID0gaGFuZGxlTGlrZUNhcmQ7XHJcbiAgfVxyXG4gIF9nZXRUZW1wbGF0ZSgpIHtcclxuICAgIHJldHVybiBkb2N1bWVudFxyXG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpXHJcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZFwiKVxyXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xyXG4gIH1cclxuXHJcbiAgLy8gX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gIC8vICAgdGhpcy5fY2FyZEVsZW1lbnRcclxuICAvLyAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idXR0b25cIilcclxuICAvLyAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQpID0+IHtcclxuICAvLyAgICAgICAvL2lmKHRoaXMuX2lzTGlrZWQpXHJcbiAgLy8gICAgICAgZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC50b2dnbGUoXCJjYXJkX19saWtlLWJ1dHRvbl9hY3RpdmVcIik7XHJcbiAgLy8gICAgICAgY29uc29sZS5sb2codGhpcy5fY2FyZEVsZW1lbnQpO1xyXG4gIC8vICAgICB9KTtcclxuXHJcbiAgLy8gICB0aGlzLl9jYXJkRWxlbWVudFxyXG4gIC8vICAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkX19kZWxldGUtYnV0dG9uXCIpXHJcbiAgLy8gICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIC8vICAgICAgIHRoaXMuX2NhcmRFbGVtZW50LnJlbW92ZSgpO1xyXG4gIC8vICAgICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gbnVsbDtcclxuICAvLyAgICAgfSk7XHJcblxyXG4gIC8vICAgdGhpcy5fY2FyZEltYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PlxyXG4gIC8vICAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrKHRoaXMuX25hbWUsIHRoaXMuX2xpbmspXHJcbiAgLy8gICApO1xyXG4gIC8vIH1cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9saWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUxpa2VDYXJkKHRoaXMpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fZGVsZXRlLWJ1dHRvblwiKVxyXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9oYW5kbGVDYXJkRGVsZXRlKHRoaXMpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+XHJcbiAgICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2sodGhpcy5fbmFtZSwgdGhpcy5fbGluaylcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBnZXRJc0xpa2VkKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2lzTGlrZWQ7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlTGlrZUljb24oKSB7XHJcbiAgICBpZiAodGhpcy5faXNMaWtlZCkge1xyXG4gICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJjYXJkX19saWtlLWJ1dHRvbl9hY3RpdmVcIik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJjYXJkX19saWtlLWJ1dHRvbl9hY3RpdmVcIik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBoYW5kbGVDYXJkRGVsZXRlKCkge1xyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnQucmVtb3ZlKCk7XHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IG51bGw7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVJc0xpa2VkKGlzTGlrZWQpIHtcclxuICAgIHRoaXMuX2lzTGlrZWQgPSBpc0xpa2VkOyAvLz9cclxuICAgIHRoaXMuX2hhbmRsZUxpa2VJY29uKCk7XHJcbiAgfVxyXG5cclxuICBnZXRWaWV3KCkge1xyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG4gICAgdGhpcy5fY2FyZEltYWdlID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKTtcclxuICAgIHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnV0dG9uXCIpO1xyXG4gICAgdGhpcy5faGFuZGxlTGlrZUljb24oKTtcclxuICAgIHRoaXMuX2NhcmRJbWFnZS5zcmMgPSB0aGlzLl9saW5rO1xyXG4gICAgdGhpcy5fY2FyZEltYWdlLmFsdCA9IHRoaXMuX25hbWU7XHJcbiAgICB0aGlzLl9jYXJkVGl0bGUgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3RpdGxlXCIpO1xyXG4gICAgdGhpcy5fY2FyZFRpdGxlLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICByZXR1cm4gdGhpcy5fY2FyZEVsZW1lbnQ7XHJcbiAgfVxyXG59XHJcbmV4cG9ydCBkZWZhdWx0IENhcmQ7XHJcbiIsImNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKHNldHRpbmdzLCBmb3JtRWxlbWVudCkge1xyXG4gICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IHNldHRpbmdzLmlucHV0U2VsZWN0b3I7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IHNldHRpbmdzLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xyXG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IHNldHRpbmdzLmluYWN0aXZlQnV0dG9uQ2xhc3M7XHJcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBzZXR0aW5ncy5pbnB1dEVycm9yQ2xhc3M7XHJcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gc2V0dGluZ3MuZXJyb3JDbGFzcztcclxuICAgIHRoaXMuX2Zvcm0gPSBmb3JtRWxlbWVudDtcclxuICB9XHJcbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWwpIHtcclxuICAgIGNvbnN0IGVycm9yTWVzc2FnZUVsID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsLmlkfS1lcnJvcmApO1xyXG4gICAgLy8gZXJyb3JNZXNzYWdlRWwgPSBmb3JtRWwucXVlcnlTZWxlY3RvcihcIiNcIiArIGlucHV0RWwgKyBcIi1lcnJvclwiKTtcclxuICAgIGlucHV0RWwuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JNZXNzYWdlRWwudGV4dENvbnRlbnQgPSBpbnB1dEVsLnZhbGlkYXRpb25NZXNzYWdlO1xyXG4gICAgZXJyb3JNZXNzYWdlRWwuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTtcclxuICB9XHJcbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWwpIHtcclxuICAgIGNvbnN0IGVycm9yTWVzc2FnZUVsID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsLmlkfS1lcnJvcmApO1xyXG4gICAgaW5wdXRFbC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvck1lc3NhZ2VFbC50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgICBlcnJvck1lc3NhZ2VFbC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gIH1cclxuXHJcbiAgX3RvZ2dsZUJ1dHRvblN0YXRlKCkge1xyXG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCh0aGlzLl9pbnB1dEVscykpIHtcclxuICAgICAgdGhpcy5kaXNhYmxlZFN1Ym1pdEJ1dHRvbigpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gIH1cclxuICBkaXNhYmxlZFN1Ym1pdEJ1dHRvbigpIHtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcclxuICB9XHJcblxyXG4gIF9oYXNJbnZhbGlkSW5wdXQoKSB7XHJcbiAgICByZXR1cm4gIXRoaXMuX2lucHV0RWxzLmV2ZXJ5KChpbnB1dEVsKSA9PiBpbnB1dEVsLnZhbGlkaXR5LnZhbGlkKTtcclxuICB9XHJcbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsKSB7XHJcbiAgICBpZiAoIWlucHV0RWwudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVyKCkge1xyXG4gICAgdGhpcy5faW5wdXRFbHMgPSBbLi4udGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpXTtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcblxyXG4gICAgdGhpcy5faW5wdXRFbHMuZm9yRWFjaCgoaW5wdXRFbCkgPT4ge1xyXG4gICAgICBpbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoZSkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsKTtcclxuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcigpO1xyXG4gIH1cclxufVxyXG5leHBvcnQgZGVmYXVsdCBGb3JtVmFsaWRhdG9yO1xyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IoeyBwb3B1cFNlbGVjdG9yIH0pIHtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgfVxyXG4gIG9wZW4oKSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcIm1vZGFsX29wZW5lZFwiKTtcclxuXHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgfVxyXG4gIGNsb3NlKCkge1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbF9vcGVuZWRcIik7XHJcblxyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gIH1cclxuICBfaGFuZGxlRXNjQ2xvc2UgPSAoZXZlbnQpID0+IHtcclxuICAgIGlmIChldmVudC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgICAgLy8gY29uc3Qgb3BlblBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9vcGVuZWRcIik7XHJcbiAgICAgIC8vIGlmIChvcGVuUG9wdXApIHtcclxuICAgICAgLy8gY2xvc2VQb3B1cChvcGVuUG9wdXApO1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuICBfaGFuZGxlTW9kYWxDbG9zZSA9IChldmVudCkgPT4ge1xyXG4gICAgaWYgKFxyXG4gICAgICBldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxcIikgfHxcclxuICAgICAgZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcIm1vZGFsX19jbG9zZVwiKVxyXG4gICAgKSB7XHJcbiAgICAgIC8vICAgY2xvc2VQb3B1cChldmVudC5jdXJyZW50VGFyZ2V0KTtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAvLyBjb25zdCBjbG9zZUJ1dHRvbiA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jbG9zZVwiKTtcclxuICAgIC8vIGNsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAvLyAgIHRoaXMuY2xvc2UoKTtcclxuICAgIC8vIH0pO1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9oYW5kbGVNb2RhbENsb3NlKTtcclxuICB9XHJcbn1cclxuLy8gX2hhbmRsZU1vZGFsQ2xvc2UgPSAoKSA9PiB7XHJcbi8vICAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbi8vICAgICB0aGlzLl9wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCAoZXZlbnQpID0+IHtcclxuLy8gICBpZiAoXHJcbi8vICAgICBldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxcIikgfHxcclxuLy8gICAgIGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJtb2RhbF9fY2xvc2VcIilcclxuLy8gICApXHJcbi8vICAge1xyXG4vLyAgICAgLy8gICBjbG9zZVBvcHVwKGV2ZW50LmN1cnJlbnRUYXJnZXQpO1xyXG4vLyAgICAgdGhpcy5jbG9zZSgpO1xyXG4vLyAgIH0pO1xyXG4vLyB9O1xyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCkge1xyXG4gICAgc3VwZXIoeyBwb3B1cFNlbGVjdG9yIH0pO1xyXG4gICAgdGhpcy5fcG9wdXBGb3JtID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1cIik7XHJcbiAgICB0aGlzLl9mb3JtQnV0dG9uID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2J1dHRvblwiKTtcclxuICAgIHRoaXMuX2Zvcm1CdXR0b25UZXh0ID0gdGhpcy5fZm9ybUJ1dHRvbi50ZXh0Q29udGVudDtcclxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gWy4uLnRoaXMuX3BvcHVwRm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiLm1vZGFsX19pbnB1dFwiKV07IC8vQXJyYXkuZnJvbVxyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICBzdXBlci5jbG9zZSgpO1xyXG4gIH1cclxuICByZXNldEZvcm0oKSB7XHJcbiAgICB0aGlzLl9wb3B1cEZvcm0ucmVzZXQoKTtcclxuICB9XHJcblxyXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcclxuICAgIGNvbnN0IGlucHV0VmFsdWUgPSB7fTtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsKSA9PiB7XHJcbiAgICAgIGlucHV0VmFsdWVbaW5wdXRFbC5uYW1lXSA9IGlucHV0RWwudmFsdWU7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBpbnB1dFZhbHVlO1xyXG4gIH1cclxuICBzZXRJbnB1dFZhbHVlcyhpbnB1dFZhbHVlKSB7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbCkgPT4ge1xyXG4gICAgICBpbnB1dEVsLnZhbHVlID0gaW5wdXRWYWx1ZVtpbnB1dEVsLm5hbWVdO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICByZW5kZXJMb2FkaW5nKGlzTG9hZGluZywgbG9hZGluZ1RleHQgPSBcIlNhdmluZy4uXCIpIHtcclxuICAgIGlmIChpc0xvYWRpbmcpIHtcclxuICAgICAgdGhpcy5fZm9ybUJ1dHRvbi50ZXh0Q29udGVudCA9IGxvYWRpbmdUZXh0O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fZm9ybUJ1dHRvbi50ZXh0Q29udGVudCA9IHRoaXMuX2Zvcm1CdXR0b25UZXh0O1xyXG4gICAgfVxyXG4gIH1cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9wb3B1cEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcbiAgICAgIC8vIHRoaXMuX3BvcHVwRm9ybS5yZXNldCgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQb3B1cFdpdGhGb3JtO1xyXG5cclxuLy8gU3VnZ2VzdGlvbnNcclxuLy8gQWRkIGNhcmQgbW9kYWwgb3BlbnMgd2l0aCB0aGUgbmV3IGNsYXNzXHJcbi8vIC0gcmVtb3ZlIHRoZSBvbGQgY2xvc2luZyBsaXN0ZW5lcnMgZnJvbSBpbmRleC5qc1xyXG4vLyAtIG5leHQgZ2V0IGl0IHRvIGNsb3NlIHdpdGggbmV3IGNsYXNzXHJcbi8vIC0gY3JlYXRlIGFuIGluc3RhbmNlIGZvciBlZGl0IHByb2ZpbGUgbW9kYWxcclxuLy8gLSByZW1vdmUgdGhlIHN1Ym1pc3Npb24gbGlzdGVuZXJzIGZyb20gaW5kZXguanNcclxuLy8gLSB3b3JrIG9uIHN1Ym1pc3Npb24sIHV0aWxpemluZyBleGlzdGluZyBzdWJtaXNzaW9uIGhhbmRsZXJzXHJcbiIsImV4cG9ydCBjb25zdCBpbml0aWFsQ2FyZHMgPSBbXHJcbiAge1xyXG4gICAgbmFtZTogXCJZb3NlbWl0ZSBWYWxsZXlcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC95b3NlbWl0ZS5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiTGFrZSBMb3Vpc2VcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9sYWtlLWxvdWlzZS5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiQmFsZCBNb3VudGFpbnNcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9iYWxkLW1vdW50YWlucy5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiTGF0ZW1hclwiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xhdGVtYXIuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIlZhbm9pc2UgTmF0aW9uYWwgUGFya1wiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L3Zhbm9pc2UuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkxhZ28gZGkgQnJhaWVzXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvbGFnby5qcGdcIixcclxuICB9LFxyXG5dO1xyXG4vL1tcIkxhZ28gZGkgQnJhaWVzXCIsIFwiaGh0cDpzbGRmamxkXCJdXHJcblxyXG5leHBvcnQgY29uc3QgcHJvZmlsZUVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtZWRpdC1idXR0b25cIik7XHJcbmV4cG9ydCBjb25zdCBwcm9maWxlRWRpdE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLWVkaXQtbW9kYWxcIik7XHJcbmV4cG9ydCBjb25zdCBwcm9maWxlQWRkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLWFkZC1idXR0b25cIik7XHJcbmV4cG9ydCBjb25zdCBwcm9maWxlQWRkTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2FkZC1jYXJkLW1vZGFsXCIpO1xyXG5leHBvcnQgY29uc3QgcHJldmlld0ltYWdlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3ByZXZpZXctaW1hZ2UtbW9kYWxcIik7XHJcbmV4cG9ydCBjb25zdCBwcmV2aWV3SW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19wcmV2aWV3LWltYWdlXCIpO1xyXG5leHBvcnQgY29uc3QgcHJldmlld0ltYWdlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2ltYWdlLW5hbWVcIik7XHJcbmV4cG9ydCBjb25zdCBwcm9maWxlVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX3RpdGxlXCIpO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZURlc2NyaXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICBcIi5wcm9maWxlX19kZXNjcmlwdGlvblwiXHJcbik7XHJcbmV4cG9ydCBjb25zdCBwcm9maWxlVGl0bGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS10aXRsZS1pbnB1dFwiKTtcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVEZXNjcmlwdGlvbklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICBcIiNwcm9maWxlLWRlc2NyaXB0aW9uLWlucHV0XCJcclxuKTtcclxuZXhwb3J0IGNvbnN0IGNhcmRUaXRsZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjYXJkLXRpdGxlLWlucHV0XCIpO1xyXG5leHBvcnQgY29uc3QgY2FyZFVybElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjYXJkLXVybC1pbnB1dFwiKTtcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVFZGl0Rm9ybSA9IHByb2ZpbGVFZGl0TW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcclxuZXhwb3J0IGNvbnN0IGFkZENhcmRGb3JtID0gcHJvZmlsZUFkZE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1cIik7XHJcbmV4cG9ydCBjb25zdCBjYXJkTGlzdEVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19fbGlzdFwiKTtcclxuZXhwb3J0IGNvbnN0IGNhcmRUZW1wbGF0ZSA9XHJcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjYXJkLXRlbXBsYXRlXCIpLmNvbnRlbnQuZmlyc3RFbGVtZW50Q2hpbGQ7XHJcbmV4cG9ydCBjb25zdCBjYXJkU2VsZWN0b3IgPSBcIiNjYXJkLXRlbXBsYXRlXCI7XHJcblxyXG5leHBvcnQgY29uc3QgdmFsaWRhdGlvblNldHRpbmdzID0ge1xyXG4gIGlucHV0U2VsZWN0b3I6IFwiLm1vZGFsX19pbnB1dFwiLFxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5tb2RhbF9fYnV0dG9uXCIsXHJcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJtb2RhbF9fYnV0dG9uX2Rpc2FibGVkXCIsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiBcIm1vZGFsX19pbnB1dF90eXBlX2Vycm9yXCIsXHJcbiAgZXJyb3JDbGFzczogXCJtb2RhbF9fZXJyb3JfdmlzaWJsZVwiLFxyXG4gIGZvcm1TZWxlY3RvcjogXCIubW9kYWxfX2Zvcm1cIixcclxufTtcclxuIiwiaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xyXG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XHJcbmltcG9ydCBcIi4vaW5kZXguY3NzXCI7XHJcbmltcG9ydCBBcGkgZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCI7XHJcbmltcG9ydCBQb3B1cERlbGV0ZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cERlbGV0ZS5qc1wiO1xyXG5cclxuaW1wb3J0IHtcclxuICBpbml0aWFsQ2FyZHMsXHJcbiAgcHJvZmlsZUVkaXRCdXR0b24sXHJcbiAgcHJvZmlsZUVkaXRNb2RhbCxcclxuICBwcm9maWxlRWRpdEZvcm0sXHJcbiAgcHJvZmlsZUFkZEJ1dHRvbixcclxuICBwcm9maWxlQWRkTW9kYWwsXHJcbiAgYWRkQ2FyZEZvcm0sXHJcbiAgcHJvZmlsZVRpdGxlLFxyXG4gIHByb2ZpbGVEZXNjcmlwdGlvbixcclxuICBwcm9maWxlVGl0bGVJbnB1dCxcclxuICBwcm9maWxlRGVzY3JpcHRpb25JbnB1dCxcclxuICBjYXJkVGl0bGVJbnB1dCxcclxuICBjYXJkVXJsSW5wdXQsXHJcbiAgdmFsaWRhdGlvblNldHRpbmdzLFxyXG4gIGNhcmRMaXN0RWwsXHJcbiAgY2FyZFNlbGVjdG9yLFxyXG59IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcclxuXHJcbmNvbnN0IGF2YXRhckVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2F2YXRhci1lZGl0LWJ1dHRvblwiKTtcclxuY29uc3QgYXZhdGFyRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbW9kYWxfX2Zvcm0tYXZhdGFyXCIpO1xyXG5jb25zdCBwcm9maWxlSW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2ltYWdlXCIpO1xyXG5cclxuY29uc3QgYXBpID0gbmV3IEFwaSh7XHJcbiAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MVwiLFxyXG4gIGhlYWRlcnM6IHtcclxuICAgIGF1dGhvcml6YXRpb246IFwiNjU4MjBlZGEtOWRkZi00ZDE1LThkNjUtZDEyNTgyODUzZGJkXCIsXHJcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICB9LFxyXG59KTtcclxuXHJcbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHtcclxuICBuYW1lU2VsZWN0b3I6IFwiLnByb2ZpbGVfX3RpdGxlXCIsXHJcbiAgZGVzY3JpcHRpb25TZWxlY3RvcjogXCIucHJvZmlsZV9fZGVzY3JpcHRpb25cIixcclxuICBhdmF0YXJTZWxlY3RvcjogXCIucHJvZmlsZV9faW1hZ2VcIixcclxufSk7XHJcblxyXG5jb25zdCBoYW5kbGVQcm9maWxlQWRkU3VibWl0ID0gKHsgbmFtZSwgbGluayB9KSA9PiB7XHJcbiAgYWRkQ2FyZFBvcHVwLnJlbmRlckxvYWRpbmcodHJ1ZSk7XHJcbiAgYXBpXHJcbiAgICAuYWRkTmV3Q2FyZCh7IG5hbWUsIGxpbmsgfSlcclxuICAgIC50aGVuKChjYXJkRGF0YSkgPT4ge1xyXG4gICAgICByZW5kZXJDYXJkKGNhcmREYXRhKTtcclxuICAgICAgYWRkQ2FyZFBvcHVwLmNsb3NlKCk7XHJcbiAgICAgIGFkZENhcmRQb3B1cC5yZXNldEZvcm0oKTtcclxuICAgICAgZm9ybVZhbGlkYXRvcnNbXCJhZGQtY2FyZC1mb3JtXCJdLmRpc2FibGVkU3VibWl0QnV0dG9uKCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgICBhbGVydChgRXJyb3IgJHtlcnJ9LiBDb3VsZCBub3QgYWRkIGNhcmQuYCk7XHJcbiAgICB9KVxyXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICBhZGRDYXJkUG9wdXAucmVuZGVyTG9hZGluZyhmYWxzZSk7XHJcbiAgICB9KTtcclxufTtcclxuXHJcbmNvbnN0IGFkZENhcmRQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFxyXG4gIFwiI2FkZC1jYXJkLW1vZGFsXCIsXHJcbiAgaGFuZGxlUHJvZmlsZUFkZFN1Ym1pdFxyXG4pO1xyXG5hZGRDYXJkUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTsgLy9pbmRlbnRlZFxyXG5cclxuY29uc3QgaGFuZGxlUHJvZmlsZUVkaXRTdWJtaXQgPSAoeyB0aXRsZSwgZGVzY3JpcHRpb24gfSkgPT4ge1xyXG4gIHByb2ZpbGVFZGl0UG9wdXAucmVuZGVyTG9hZGluZyh0cnVlKTtcclxuICBhcGlcclxuICAgIC5lZGl0VXNlckluZm8odGl0bGUsIGRlc2NyaXB0aW9uKVxyXG4gICAgLnRoZW4oKHVzZXJEYXRhKSA9PiB7XHJcbiAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHsgbmFtZTogdGl0bGUsIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbiB9KTtcclxuICAgICAgcHJvZmlsZUVkaXRQb3B1cC5jbG9zZSgpOyAvL2Nsb3NlIHRoZSBlZGl0LXByb2ZpbGUgbW9kYWxcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICAgIGFsZXJ0KGBFcnJvciAke2Vycn0uIENvdWxkIG5vdCBlZGl0IHVzZXIgaW5mby5gKTtcclxuICAgIH0pXHJcbiAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgIHByb2ZpbGVFZGl0UG9wdXAucmVuZGVyTG9hZGluZyhmYWxzZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgLy8gY2xvc2VQb3B1cChwcm9maWxlRWRpdE1vZGFsKTtcclxufTtcclxuXHJcbmNvbnN0IHByb2ZpbGVFZGl0UG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcclxuICBcIiNwcm9maWxlLWVkaXQtbW9kYWxcIixcclxuICBoYW5kbGVQcm9maWxlRWRpdFN1Ym1pdFxyXG4pO1xyXG5wcm9maWxlRWRpdFBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5jb25zdCBwcmV2aWV3SW1hZ2VQb3B1cCA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIiNwcmV2aWV3LWltYWdlLW1vZGFsXCIpO1xyXG5wcmV2aWV3SW1hZ2VQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuY29uc3QgYXZhdGFyRWRpdFBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXHJcbiAgXCIjcHJvZmlsZS1hdmF0YXItbW9kYWxcIixcclxuICAoZm9ybURhdGEpID0+IHtcclxuICAgIGF2YXRhckVkaXRQb3B1cC5yZW5kZXJMb2FkaW5nKHRydWUpO1xyXG4gICAgYXBpXHJcbiAgICAgIC51cGRhdGVBdmF0YXIoZm9ybURhdGEubGluaylcclxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgIHVzZXJJbmZvLmNoYW5nZUF2YXRhcihyZXMuYXZhdGFyKTtcclxuICAgICAgICBhdmF0YXJFZGl0UG9wdXAuY2xvc2UoKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKFwiRXJyb3IgdXBkYXRpbmcgYXZhdGFyOlwiLCBlcnIpKVxyXG4gICAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgICAgYXZhdGFyRWRpdFBvcHVwLnJlbmRlckxvYWRpbmcoZmFsc2UpO1xyXG4gICAgICB9KTtcclxuICB9XHJcbik7XHJcbmF2YXRhckVkaXRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuYXZhdGFyRWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGF2YXRhckVkaXRQb3B1cC5vcGVuKCk7XHJcbn0pO1xyXG5jb25zdCBjb25maXJtaW5nID0gbmV3IFBvcHVwRGVsZXRlKFwiI2RlbGV0ZS1jYXJkLW1vZGFsXCIpO1xyXG5jb25maXJtaW5nLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbi8vIHJ1bnMgd2hlbiB5b3UgY2xpY2sgb24gdGhlIHRyYXNoIGljb24gb2YgYSBjYXJkXHJcbmZ1bmN0aW9uIGhhbmRsZURlbGV0ZShjYXJkKSB7XHJcbiAgY29uZmlybWluZy5vcGVuKCk7XHJcbiAgY29uZmlybWluZy5zZXRDb25maXJtU3VibWl0KCgpID0+IHtcclxuICAgIC8vIHJ1bnMgd2hlbiB5b3UgY2xpY2sgJ3llcycgb24gdGhlIGRlbGV0ZS1jYXJkIG1vZGFsXHJcbiAgICAvL2NvbmZpcm1pbmcucmVuZGVyTG9hZGluZyh0cnVlKTtcclxuICAgIGNvbmZpcm1pbmcuc2V0U3VibWl0QnV0dG9uVGV4dChcIkRlbGV0aW5nLi4ueWF5XCIpO1xyXG4gICAgYXBpXHJcbiAgICAgIC5kZWxldGVDYXJkKGNhcmQuaWQpXHJcbiAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICBjb25maXJtaW5nLmNsb3NlKCk7XHJcbiAgICAgICAgY2FyZC5oYW5kbGVDYXJkRGVsZXRlKCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKVxyXG4gICAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgICAgLy9jb25maXJtaW5nLnJlbmRlckxvYWRpbmcoZmFsc2UpO1xyXG4gICAgICAgIGNvbmZpcm1pbmcuc2V0U3VibWl0QnV0dG9uVGV4dChcIlllc1wiKTtcclxuICAgICAgfSk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUxpa2VDYXJkKGNhcmQpIHtcclxuICBpZiAoY2FyZC5nZXRJc0xpa2VkKCkpIHtcclxuICAgIGFwaVxyXG4gICAgICAucmVtb3ZlTGlrZShjYXJkLmlkKVxyXG4gICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgY2FyZC51cGRhdGVJc0xpa2VkKHJlcy5pc0xpa2VkKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBhcGlcclxuICAgICAgLmFkZExpa2UoY2FyZC5pZClcclxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgIGNhcmQudXBkYXRlSXNMaWtlZChyZXMuaXNMaWtlZCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcclxuICB9XHJcbn1cclxuXHJcbnByb2ZpbGVFZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgY29uc3QgdXNlckRhdGEgPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xyXG4gIHByb2ZpbGVUaXRsZUlucHV0LnZhbHVlID0gdXNlckRhdGEubmFtZTtcclxuICBwcm9maWxlRGVzY3JpcHRpb25JbnB1dC52YWx1ZSA9IHVzZXJEYXRhLmRlc2NyaXB0aW9uO1xyXG4gIHByb2ZpbGVFZGl0UG9wdXAub3BlbigpO1xyXG4gIC8vIG9wZW5Qb3B1cChwcm9maWxlRWRpdE1vZGFsKTtcclxufSk7XHJcblxyXG4vLyBUT0RPICByZW1vdmUgdGhlc2UgY2xvc2VlIGxpc3RlbmVyc1xyXG5wcm9maWxlQWRkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgYWRkQ2FyZFBvcHVwLm9wZW4oKTtcclxufSk7XHJcblxyXG4vLyBmdW5jdGlvbiBoYW5kbGVJbWFnZUNsaWNrKGUpIHtcclxuLy8gICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbi8vICAgcHJldmlld0ltYWdlUG9wdXAuY2xvc2UoKTtcclxuLy8gICAvLyBjbG9zZVBvcHVwKHByZXZpZXdJbWFnZU1vZGFsKTtcclxuLy8gfVxyXG5mdW5jdGlvbiBoYW5kbGVJbWFnZUNsaWNrKG5hbWUsIGxpbmspIHtcclxuICBwcmV2aWV3SW1hZ2VQb3B1cC5vcGVuKHsgbmFtZSwgbGluayB9KTtcclxuICAvLyBvcGVuUG9wdXAocHJldmlld0ltYWdlTW9kYWwpO1xyXG59XHJcblxyXG4vLyBpbml0aWFsQ2FyZHMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4vLyAgIHNlY3Rpb24uX3JlbmRlcmVyKGl0ZW0pO1xyXG4vLyB9KTtcclxuZnVuY3Rpb24gY3JlYXRlQ2FyZChjYXJkRGF0YSkge1xyXG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChcclxuICAgIGNhcmREYXRhLFxyXG4gICAgXCIjY2FyZC10ZW1wbGF0ZVwiLFxyXG4gICAgaGFuZGxlSW1hZ2VDbGljayxcclxuICAgIGhhbmRsZURlbGV0ZSxcclxuICAgIGhhbmRsZUxpa2VDYXJkXHJcbiAgKTtcclxuICByZXR1cm4gY2FyZC5nZXRWaWV3KCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbmRlckNhcmQoY2FyZERhdGEpIHtcclxuICBjb25zdCBjYXJkRWxlbWVudCA9IGNyZWF0ZUNhcmQoY2FyZERhdGEpO1xyXG4gIHNlY3Rpb24uYWRkSXRlbShjYXJkRWxlbWVudCk7XHJcbn1cclxuXHJcbi8vIHZhbGlkYXRpb25cclxuLy8gY29uc3QgZWRpdEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihcclxuLy8gICB2YWxpZGF0aW9uU2V0dGluZ3MsXHJcbi8vICAgcHJvZmlsZUVkaXRGb3JtXHJcbi8vICk7XHJcbi8vIGNvbnN0IGFkZEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uU2V0dGluZ3MsIGFkZENhcmRGb3JtKTtcclxuLy8gZWRpdEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG4vLyBhZGRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbmNvbnN0IGZvcm1WYWxpZGF0b3JzID0ge1xyXG4gIC8vICdhZGQtY2FyZC1mb3JtJzogXCJ0aGUgYWN0dWFsIGluc3RhbmNlIG9mIHRoZSBmb3JtdmFsaWRhdG9yIGNsYXNzIGZvciB0aGUgYWRkLWNhcmQgbW9kYWxcIlxyXG59O1xyXG5cclxuY29uc3QgZW5hYmxlVmFsaWRhdGlvbiA9IChjb25maWcpID0+IHtcclxuICBjb25zdCBmb3JtTGlzdCA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChjb25maWcuZm9ybVNlbGVjdG9yKSk7XHJcbiAgZm9ybUxpc3QuZm9yRWFjaCgoZm9ybUVsZW1lbnQpID0+IHtcclxuICAgIGNvbnN0IHZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZywgZm9ybUVsZW1lbnQpO1xyXG4gICAgLy8gSGVyZSB5b3UgZ2V0IHRoZSBuYW1lIG9mIHRoZSBmb3JtIChpZiB5b3UgZG9u4oCZdCBoYXZlIGl0IHRoZW4geW91IG5lZWQgdG8gYWRkIGl0IGludG8gZWFjaCBmb3JtIGluIGBpbmRleC5odG1sYCBmaXJzdClcclxuICAgIGNvbnN0IGZvcm1OYW1lID0gZm9ybUVsZW1lbnQuZ2V0QXR0cmlidXRlKFwibmFtZVwiKTtcclxuICAgIC8vIEhlcmUgeW91IHN0b3JlIHRoZSB2YWxpZGF0b3IgdXNpbmcgdGhlIGBuYW1lYCBvZiB0aGUgZm9ybVxyXG4gICAgZm9ybVZhbGlkYXRvcnNbZm9ybU5hbWVdID0gdmFsaWRhdG9yO1xyXG4gICAgdmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuICB9KTtcclxufTtcclxuZW5hYmxlVmFsaWRhdGlvbih2YWxpZGF0aW9uU2V0dGluZ3MpO1xyXG5cclxuLy9pbml0aWFsQ2FyZHMuZm9yRWFjaCgoY2FyZERhdGEpID0+IHJlbmRlckNhcmQoY2FyZERhdGEsIGNhcmRMaXN0RWwpKTtcclxuLy9jb25zdCBjYXJkRWxlbWVudCA9IGdldENhcmRFbGVtZW50KGNhcmREYXRhKTtcclxuLy9jYXJkTGlzdEVsLnByZXBlbmQoY2FyZEVsZW1lbnQpO1xyXG5cclxuLy9ydW5zIG9uIHBhZ2UgbG9hZFxyXG4vLyBnZXRzIHVzZXIgaW5mbyBmcm9tIHNlcnZlciBhbmQgc2V0cyBpdCBvbiB0aGUgZG9tXHJcbi8vIGFwaVxyXG4vLyAgIC5nZXRVc2VySW5mbygpXHJcbi8vICAgLnRoZW4oKHVzZXJEYXRhKSA9PiB7XHJcbi8vICAgICBjb25zb2xlLmxvZyh1c2VyRGF0YSk7IC8ve25hbWU6IHNsZGpmLCBhYm91dDogc2tkZn1cclxuXHJcbi8vICAgfSlcclxuLy8gLmNhdGNoKChlcnIpID0+IHtcclxuLy8gICBjb25zb2xlLmVycm9yKGVycik7XHJcbi8vICAgYWxlcnQoYEVycm9yICR7ZXJyfS4gQ291bGQgbm90IGdldCB1c2VyIGluZm8uYCk7XHJcbi8vIH0pO1xyXG5cclxuY29uc3Qgc2VjdGlvbiA9IG5ldyBTZWN0aW9uKFxyXG4gIHtcclxuICAgIGl0ZW1zOiBbXSxcclxuICAgIHJlbmRlcmVyOiByZW5kZXJDYXJkLFxyXG4gIH0sXHJcbiAgXCIuY2FyZHNfX2xpc3RcIlxyXG4pO1xyXG5cclxuLy9nZXRzIHRoZSBjYXJkcyBvZmYgdGhlIHNlcnZlclxyXG4vLyBhcGkuZ2V0SW5pdGlhbENhcmRzKCkudGhlbigoY2FyZHMpID0+IHtcclxuXHJcbi8vICAgY29uc29sZS5sb2coY2FyZHMpO1xyXG4vLyB9KTtcclxuUHJvbWlzZS5hbGwoW2FwaS5nZXRJbml0aWFsQ2FyZHMoKSwgYXBpLmdldFVzZXJJbmZvKCldKVxyXG4gIC50aGVuKChbaW5pdGlhbENhcmREYXRhLCB1c2VyRGF0YV0pID0+IHtcclxuICAgIHNlY3Rpb24uc2V0SXRlbXMoaW5pdGlhbENhcmREYXRhLnJldmVyc2UoKSk7XHJcbiAgICBzZWN0aW9uLnJlbmRlckl0ZW1zKCk7XHJcbiAgICB1c2VySW5mby5zZXRVc2VySW5mbyh7IG5hbWU6IHVzZXJEYXRhLm5hbWUsIGRlc2NyaXB0aW9uOiB1c2VyRGF0YS5hYm91dCB9KTtcclxuICAgIHVzZXJJbmZvLmNoYW5nZUF2YXRhcih1c2VyRGF0YS5hdmF0YXIpO1xyXG4gIH0pXHJcbiAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgIC8vIGFsZXJ0KGBFcnJvciAke2Vycn0uIENvdWxkIG5vdCBnZXQgdXNlciBpbmZvLmApO1xyXG4gIH0pO1xyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xyXG4gIGNvbnN0cnVjdG9yKHsgYmFzZVVybCwgaGVhZGVycyB9KSB7XHJcbiAgICB0aGlzLl9iYXNlVXJsID0gYmFzZVVybDtcclxuICAgIHRoaXMuX2hlYWRlcnMgPSBoZWFkZXJzO1xyXG4gIH1cclxuXHJcbiAgX2NoZWNrUmVzcG9uc2UocmVzKSB7XHJcbiAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHJlcy5zdGF0dXMpO1xyXG4gIH1cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIC8vIGZldGNoZXMgdG8gZ2V0IHRoZSBpbml0aWFsIGNhcmRzIG9mZiB0aGUgc2VydmVyXHJcbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgYWRkTmV3Q2FyZCh7IG5hbWUsIGxpbmsgfSkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IG5hbWUsIGxpbmsgfSksXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgZWRpdFVzZXJJbmZvKG5hbWUsIGFib3V0KSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IG5hbWUsIGFib3V0IH0pLFxyXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICAgIC8vIC50aGVuKChyZXMpID0+IHtcclxuICAgIC8vICAgaWYgKHJlcy5vaykge1xyXG4gICAgLy8gICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgLy8gICB9XHJcbiAgICAvLyAgIHJldHVybiBQcm9taXNlLnJlamVjdChyZXMuc3RhdHVzKTtcclxuICAgIC8vIH0pO1xyXG4gIH1cclxuXHJcbiAgZGVsZXRlQ2FyZChjYXJkSWQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH1gLCB7XHJcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XHJcbiAgfVxyXG4gIGFkZExpa2UoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gIH1cclxuICByZW1vdmVMaWtlKGNhcmRJZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfS9saWtlc2AsIHtcclxuICAgICAgbWV0aG9kOiBcImRlbGV0ZVwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZUF2YXRhcihhdmF0YXJVcmwpIHtcclxuICAgIGNvbnNvbGUubG9nKFwiYXZhdGFyVVJMXCIsIGF2YXRhclVybCk7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBhdmF0YXI6IGF2YXRhclVybCB9KSxcclxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XHJcbiAgfVxyXG59XHJcbiIsImNsYXNzIFVzZXJJbmZvIHtcclxuICBjb25zdHJ1Y3Rvcih7IG5hbWVTZWxlY3RvciwgZGVzY3JpcHRpb25TZWxlY3RvciwgYXZhdGFyU2VsZWN0b3IgfSkge1xyXG4gICAgdGhpcy5fbmFtZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG5hbWVTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9kZXNjcmlwdGlvbkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGRlc2NyaXB0aW9uU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fYXZhdGFyRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYXZhdGFyU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBuYW1lOiB0aGlzLl9uYW1lRWxlbWVudC50ZXh0Q29udGVudCxcclxuICAgICAgZGVzY3JpcHRpb246IHRoaXMuX2Rlc2NyaXB0aW9uRWxlbWVudC50ZXh0Q29udGVudCxcclxuICAgIH07XHJcbiAgfVxyXG4gIHNldFVzZXJJbmZvKHsgbmFtZSwgZGVzY3JpcHRpb24gfSkge1xyXG4gICAgdGhpcy5fbmFtZUVsZW1lbnQudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgdGhpcy5fZGVzY3JpcHRpb25FbGVtZW50LnRleHRDb250ZW50ID0gZGVzY3JpcHRpb247XHJcbiAgfVxyXG5cclxuICBjaGFuZ2VBdmF0YXIoYXZhdGFyKSB7XHJcbiAgICB0aGlzLl9hdmF0YXJFbGVtZW50LnNyYyA9IGF2YXRhcjtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFVzZXJJbmZvO1xyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHN1cGVyKHsgcG9wdXBTZWxlY3RvciB9KTtcclxuICAgIHRoaXMuX3BvcHVwSW1hZ2UgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgXCIubW9kYWxfX3ByZXZpZXctaW1hZ2VcIlxyXG4gICAgKTtcclxuICAgIHRoaXMuX3BvcHVwSW1hZ2VUaXRsZSA9XHJcbiAgICAgIHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19pbWFnZS1uYW1lXCIpO1xyXG4gIH1cclxuXHJcbiAgb3BlbihkYXRhKSB7XHJcbiAgICB0aGlzLl9wb3B1cEltYWdlLnNyYyA9IGRhdGEubGluaztcclxuICAgIHRoaXMuX3BvcHVwSW1hZ2UuYWx0ID0gZGF0YS5uYW1lO1xyXG4gICAgdGhpcy5fcG9wdXBJbWFnZVRpdGxlLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gIH1cclxufVxyXG5leHBvcnQgZGVmYXVsdCBQb3B1cFdpdGhJbWFnZTtcclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwRGVsZXRlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHN1cGVyKHsgcG9wdXBTZWxlY3RvciB9KTtcclxuICAgIHRoaXMuX3BvcHVwRm9ybSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiLm1vZGFsX19idXR0b24tY29uZmlybVwiXHJcbiAgICApO1xyXG4gICAgLy8gdGhpcy5fc3VibWl0QnV0dG9uVGV4dCA9IHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudDtcclxuICB9XHJcbiAgc2V0Q29uZmlybVN1Ym1pdChoYW5kbGVGb3JtU3VibWl0KSB7XHJcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcclxuICB9XHJcblxyXG4gIC8vIHJlbmRlckxvYWRpbmcoaXNMb2FkaW5nLCBsb2FkaW5nVGV4dCA9IFwiRGVsZXRpbmcuLlwiKSB7XHJcbiAgLy8gICBpZiAoaXNMb2FkaW5nKSB7XHJcbiAgLy8gICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IGxvYWRpbmdUZXh0O1xyXG4gIC8vICAgfSBlbHNlIHtcclxuICAvLyAgICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gdGhpcy5fc3VibWl0QnV0dG9uVGV4dDtcclxuICAvLyAgIH1cclxuICAvLyB9XHJcblxyXG4gIHNldFN1Ym1pdEJ1dHRvblRleHQodGV4dCkge1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gdGV4dDtcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX3BvcHVwRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICAvLyBhbiBhcnJheSBvZiB0aGUgaXRlbXMgdGhhdCB3ZSB3YW50IHBsYWNlZCBvbiB0aGUgcGFnZSB3aGVuIGNhbGxpbmcgcmVuZGVySXRlbXMoKVxyXG4gICAgdGhpcy5faXRlbXMgPSBpdGVtcztcclxuICAgIC8vIGEgZnVuY3Rpb24gdGhhdCBjb252ZXJ0cyB0aGUgcmF3IG9iamVjdHMgaW5zaWRlIG9mIHRoZSB0aGlzLl9pdGVtcyBhcnJheSBpbnRvIGh0bWwsIGFuZCB0aGVuIHBsYWNlIHRoYXQgaHRtbCBvbiB0aGUgcGFnZVxyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgIC8vIHRoZSBlbGVtZW50IHRoYXQgd2Ugd2FudCB0byBwbGFjZSBvdXIgaHRtbCBpdGVtcyBpbnNpZGUgb2ZcclxuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgc2V0SXRlbXMoaXRlbXMpIHtcclxuICAgIHRoaXMuX2l0ZW1zID0gaXRlbXM7XHJcbiAgfVxyXG5cclxuICByZW5kZXJJdGVtcygpIHtcclxuICAgIHRoaXMuX2l0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgYWRkSXRlbShlbGVtZW50LCBwbGFjZW1lbnQgPSBcInByZXBlbmRcIikge1xyXG4gICAgaWYgKHBsYWNlbWVudCA9PT0gXCJhcHBlbmRcIikge1xyXG4gICAgICB0aGlzLl9jb250YWluZXIuYXBwZW5kKGVsZW1lbnQpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTZWN0aW9uO1xyXG4iXSwibmFtZXMiOlsiY29uc3RydWN0b3IiLCJfcmVmIiwiY2FyZFNlbGVjdG9yIiwiaGFuZGxlSW1hZ2VDbGljayIsImhhbmRsZUNhcmREZWxldGUiLCJoYW5kbGVMaWtlQ2FyZCIsIl9pZCIsIm5hbWUiLCJsaW5rIiwiaXNMaWtlZCIsInRoaXMiLCJpZCIsIl9uYW1lIiwiX2xpbmsiLCJfaXNMaWtlZCIsIl9jYXJkU2VsZWN0b3IiLCJfaGFuZGxlSW1hZ2VDbGljayIsIl9oYW5kbGVDYXJkRGVsZXRlIiwiX2hhbmRsZUxpa2VDYXJkIiwiX2dldFRlbXBsYXRlIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29udGVudCIsImNsb25lTm9kZSIsIl9zZXRFdmVudExpc3RlbmVycyIsIl9saWtlQnV0dG9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9jYXJkRWxlbWVudCIsIl9jYXJkSW1hZ2UiLCJnZXRJc0xpa2VkIiwiX2hhbmRsZUxpa2VJY29uIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwidXBkYXRlSXNMaWtlZCIsImdldFZpZXciLCJzcmMiLCJhbHQiLCJfY2FyZFRpdGxlIiwidGV4dENvbnRlbnQiLCJzZXR0aW5ncyIsImZvcm1FbGVtZW50IiwiX2lucHV0U2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJfaW5wdXRFcnJvckNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiX2Vycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiX2Zvcm0iLCJfc2hvd0lucHV0RXJyb3IiLCJpbnB1dEVsIiwiZXJyb3JNZXNzYWdlRWwiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9oaWRlSW5wdXRFcnJvciIsIl90b2dnbGVCdXR0b25TdGF0ZSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJfaW5wdXRFbHMiLCJkaXNhYmxlZFN1Ym1pdEJ1dHRvbiIsIl9zdWJtaXRCdXR0b24iLCJkaXNhYmxlZCIsImV2ZXJ5IiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJfc2V0RXZlbnRMaXN0ZW5lciIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiZSIsImVuYWJsZVZhbGlkYXRpb24iLCJwcmV2ZW50RGVmYXVsdCIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cEVsZW1lbnQiLCJvcGVuIiwiX2hhbmRsZUVzY0Nsb3NlIiwiY2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJrZXkiLCJfaGFuZGxlTW9kYWxDbG9zZSIsInRhcmdldCIsImNvbnRhaW5zIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJoYW5kbGVGb3JtU3VibWl0Iiwic3VwZXIiLCJfcG9wdXBGb3JtIiwiX2Zvcm1CdXR0b24iLCJfZm9ybUJ1dHRvblRleHQiLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9pbnB1dExpc3QiLCJyZXNldEZvcm0iLCJyZXNldCIsIl9nZXRJbnB1dFZhbHVlcyIsImlucHV0VmFsdWUiLCJ2YWx1ZSIsInNldElucHV0VmFsdWVzIiwicmVuZGVyTG9hZGluZyIsImlzTG9hZGluZyIsImxvYWRpbmdUZXh0IiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwicHJvZmlsZUVkaXRCdXR0b24iLCJwcm9maWxlRWRpdE1vZGFsIiwicHJvZmlsZUFkZEJ1dHRvbiIsInByb2ZpbGVBZGRNb2RhbCIsInByb2ZpbGVUaXRsZUlucHV0IiwicHJvZmlsZURlc2NyaXB0aW9uSW5wdXQiLCJhdmF0YXJFZGl0QnV0dG9uIiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJhcGkiLCJiYXNlVXJsIiwiaGVhZGVycyIsIl9iYXNlVXJsIiwiX2hlYWRlcnMiLCJfY2hlY2tSZXNwb25zZSIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJnZXRVc2VySW5mbyIsImZldGNoIiwibWV0aG9kIiwidGhlbiIsImdldEluaXRpYWxDYXJkcyIsImFkZE5ld0NhcmQiLCJfcmVmMiIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiZWRpdFVzZXJJbmZvIiwiYWJvdXQiLCJkZWxldGVDYXJkIiwiY2FyZElkIiwiYWRkTGlrZSIsInJlbW92ZUxpa2UiLCJ1cGRhdGVBdmF0YXIiLCJhdmF0YXJVcmwiLCJjb25zb2xlIiwibG9nIiwiYXZhdGFyIiwiYXV0aG9yaXphdGlvbiIsInVzZXJJbmZvIiwibmFtZVNlbGVjdG9yIiwiZGVzY3JpcHRpb25TZWxlY3RvciIsImF2YXRhclNlbGVjdG9yIiwiX25hbWVFbGVtZW50IiwiX2Rlc2NyaXB0aW9uRWxlbWVudCIsIl9hdmF0YXJFbGVtZW50IiwiZGVzY3JpcHRpb24iLCJzZXRVc2VySW5mbyIsImNoYW5nZUF2YXRhciIsImFkZENhcmRQb3B1cCIsIlBvcHVwV2l0aEZvcm0iLCJjYXJkRGF0YSIsInJlbmRlckNhcmQiLCJmb3JtVmFsaWRhdG9ycyIsImNhdGNoIiwiZXJyIiwiZXJyb3IiLCJhbGVydCIsImZpbmFsbHkiLCJwcm9maWxlRWRpdFBvcHVwIiwidGl0bGUiLCJ1c2VyRGF0YSIsInByZXZpZXdJbWFnZVBvcHVwIiwiX3BvcHVwSW1hZ2UiLCJfcG9wdXBJbWFnZVRpdGxlIiwiZGF0YSIsImF2YXRhckVkaXRQb3B1cCIsImZvcm1EYXRhIiwiY29uZmlybWluZyIsInNldENvbmZpcm1TdWJtaXQiLCJzZXRTdWJtaXRCdXR0b25UZXh0IiwidGV4dCIsImhhbmRsZURlbGV0ZSIsImNhcmQiLCJjYXJkRWxlbWVudCIsIkNhcmQiLCJjcmVhdGVDYXJkIiwic2VjdGlvbiIsImFkZEl0ZW0iLCJjb25maWciLCJmb3JtU2VsZWN0b3IiLCJBcnJheSIsImZyb20iLCJ2YWxpZGF0b3IiLCJGb3JtVmFsaWRhdG9yIiwiZm9ybU5hbWUiLCJnZXRBdHRyaWJ1dGUiLCJjb250YWluZXJTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwic2V0SXRlbXMiLCJyZW5kZXJJdGVtcyIsIml0ZW0iLCJlbGVtZW50IiwiYXBwZW5kIiwicHJlcGVuZCIsImFsbCIsIl9yZWYzIiwiaW5pdGlhbENhcmREYXRhIiwicmV2ZXJzZSJdLCJzb3VyY2VSb290IjoiIn0=